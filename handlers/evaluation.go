package handlers
//import "fmt"
var WhitePawnPST = [8][8]int{
	{0, 0, 0, 0, 0, 0, 0, 0},
	{50, 50, 50, 50, 50, 50, 50, 50},
	{10, 10, 20, 30, 30, 20, 10, 10},
	{5, 5, 10, 25, 25, 10, 5, 5},
	{0, 0, 0, 20, 20, 0, 0, 0},
	{5, -5, -10, 0, 0, -10, -5, 5},
	{5, 10, 10, -20, -20, 10, 10, 5},
	{-30, -30, -30, -30, -30, -30, -30, -30},
}

var WhiteKnightPST = [8][8]int{
	{-50, -40, -30, -30, -30, -30, -40, -50},
	{-40, -20, 0, 0, 0, 0, -20, -40},
	{-30, 0, 10, 15, 15, 10, 0, -30},
	{-30, 5, 15, 20, 20, 15, 5, -30},
	{-30, 0, 15, 20, 20, 15, 0, -30},
	{-30, 5, 10, 15, 15, 10, 5, -30},
	{-40, -20, 0, 5, 5, 0, -20, -40},
	{-50, -40, -30, -30, -30, -30, -40, -50},
}

var WhiteBishopPST = [8][8]int{
	{-20, -10, -10, -10, -10, -10, -10, -20},
	{-10, 0, 0, 0, 0, 0, 0, -10},
	{-10, 0, 5, 10, 10, 5, 0, -10},
	{-10, 5, 5, 10, 10, 5, 5, -10},
	{-10, 0, 10, 10, 10, 10, 0, -10},
	{-10, 10, 10, 10, 10, 10, 10, -10},
	{-10, 5, 0, 0, 0, 0, 5, -10},
	{-20, -10, -10, -10, -10, -10, -10, -20},
}

var WhiteRookPST = [8][8]int{
	{0, 0, 0, 0, 0, 0, 0, 0},
	{5, 10, 10, 10, 10, 10, 10, 5},
	{-5, 0, 0, 0, 0, 0, 0, -5},
	{-5, 0, 0, 0, 0, 0, 0, -5},
	{-5, 0, 0, 0, 0, 0, 0, -5},
	{-5, 0, 0, 0, 0, 0, 0, -5},
	{-5, 0, 0, 0, 0, 0, 0, -5},
	{0, 0, 0, 5, 5, 0, 0, 0},
}

var WhiteQueenPST = [8][8]int{
	{-20, -10, -10, -5, -5, -10, -10, -20},
	{-10, 0, 0, 0, 0, 0, 0, -10},
	{-10, 0, 5, 5, 5, 5, 0, -10},
	{-5, 0, 5, 5, 5, 5, 0, -5},
	{0, 0, 5, 5, 5, 5, 0, -5},
	{-10, 5, 5, 5, 5, 5, 0, -10},
	{-10, 0, 5, 0, 0, 0, 0, -10},
	{-20, -10, -10, -5, -5, -10, -10, -20},
}
var PieceValues = map[rune]int{
	'p': -10,
	'P': 10,
	'n': -30,
	'N': 30,
	'b': -30,
	'B': 30,
	'r': -50,
	'R': 50,
	'q': -90,
	'Q': 90,
	'k': -900,
	'K': 900,
}
var WhiteKingMiddlegamePST = [8][8]int{
	{-30, -40, -40, -50, -50, -40, -40, -30},
	{-30, -40, -40, -50, -50, -40, -40, -30},
	{-30, -40, -40, -50, -50, -40, -40, -30},
	{-30, -40, -40, -50, -50, -40, -40, -30},
	{-20, -30, -30, -40, -40, -30, -30, -20},
	{-10, -20, -20, -20, -20, -20, -20, -10},
	{20, 20, 0, 0, 0, 0, 20, 20},
	{20, 30, 10, 0, 0, 10, 30, 20}, 
}
var WhiteKingEndgamePST = [8][8]int{
	{-50, -40, -30, -20, -20, -30, -40, -50},
	{-30, -20, -10, 0, 0, -10, -20, -30},
	{-30, -10, 20, 30, 30, 20, -10, -30},
	{-30, -10, 30, 40, 40, 30, -10, -30},
	{-30, -10, 30, 40, 40, 30, -10, -30},
	{-30, -10, 20, 30, 30, 20, -10, -30},
	{-30, -30, 0, 0, 0, 0, -30, -30},
	{-50, -30, -30, -30, -30, -30, -30, -50},
}
func GetValue(piece rune) int {
	return PieceValues[piece]
}

func Evaluate_board(board [8][8] rune) int {
	board_state:=0
	for i:=0;i<8;i++ {
		for j:=0;j<8;j++ {
			piece:=board[i][j]
			if piece!=0{
				board_state+=GetValue(board[i][j])
				switch piece {
				case 'P':
					board_state+=WhitePawnPST[i][j]
				case 'p':
					board_state-=WhitePawnPST[7-i][j]
				case 'Q':
					board_state+=WhiteQueenPST[i][j]
				case 'q':
					board_state-=WhiteQueenPST[7-i][j]
				case 'N':
					board_state+=WhiteKnightPST[i][j]
				case 'n':
					board_state-=WhiteKnightPST[7-i][j]
				case 'B':
					board_state+=WhiteBishopPST[i][j]
				case 'b':
					board_state-=WhiteBishopPST[7-i][j]
				case 'R':
					board_state+=WhiteRookPST[i][j]
				case 'r':
					board_state-=WhiteRookPST[7-i][j]
				case 'K':
					board_state+=WhiteKingMiddlegamePST[i][j]
				case 'k':
					board_state-=WhiteKingMiddlegamePST[7-i][j]
			}
		}
	}
}
return board_state
}

